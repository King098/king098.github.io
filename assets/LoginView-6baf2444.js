import{d as w,r as g,o as y,c as b,a as e,w as l,b as c,e as m,T as d,m as v,_ as x,G as V,E as i}from"./index-77336cd3.js";import{s as h}from"./service-7b1edaf9.js";const k={style:{"{boxShadow":"`var(--el-box-shadow-dark)`,}"}},S=w({__name:"LoginView",setup(C){const t=g({account:"",password:""});function p(){const r=d.loading();let a=d.getRequestBody("Account",d.getNowTimeSpan().toString(),{account:t.value.account,password:v(t.value.password)});console.log(a),h({url:"Account/Login",method:"post",data:a}).then(o=>{r.close(),console.log(o);let[n,s]=d.getResponseData(o.data);n?(d.gotoRoute("yjy_wechat","/yjy_wechat",()=>x(()=>import("./WechatConsole-8c558ccf.js"),["assets/WechatConsole-8c558ccf.js","assets/index-77336cd3.js","assets/index-85ad8333.css","assets/service-7b1edaf9.js"])),V.setSessionAccount(s.account,s.password),i({title:"提示",message:"登录成功",type:"success"})):i({title:"提示",message:"登陆失败："+s.message,type:"error"})},o=>{r.close(),console.warn(o),i({title:"错误",message:"登录返回结果"+o.data,type:"error"})})}return(r,a)=>{const o=c("el-input"),n=c("el-form-item"),s=c("el-button"),_=c("el-form"),f=c("el-row");return y(),b("div",k,[e(f,{justify:"center",align:"middle",class:"inline-flex",h:"30",w:"30",m:"2"},{default:l(()=>[e(_,{"label-position":"top","label-width":"100px",model:t.value,size:"large",style:{"min-width":"500px"}},{default:l(()=>[e(n,{label:"账号"},{default:l(()=>[e(o,{modelValue:t.value.account,"onUpdate:modelValue":a[0]||(a[0]=u=>t.value.account=u)},null,8,["modelValue"])]),_:1}),e(n,{label:"密码"},{default:l(()=>[e(o,{type:"password",modelValue:t.value.password,"onUpdate:modelValue":a[1]||(a[1]=u=>t.value.password=u)},null,8,["modelValue"])]),_:1}),e(n,{style:{width:"max-content"}},{default:l(()=>[e(s,{type:"primary",onClick:p},{default:l(()=>[m("登陆")]),_:1}),e(s,{type:"danger",onClick:r.$router.back},{default:l(()=>[m("退出")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1})])}}});export{S as default};
